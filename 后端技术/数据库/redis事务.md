# Redis 事务

Redis 中的事务是一组一次性、顺序执行的命令。

Redis 中的事务无法保持原子性，也没有回滚。但是可以保证事务中的命令按照发送的顺序执行、且不会被其他客户端的命令打断。

## 悲观锁

悲观锁是常见的锁

比如对某一行数据加行锁，那么其他所有的操作都必须等待。

锁是独占的，其他的操作必须等待，适合高并发的写操作的场景

## 乐观锁

乐观锁应用于写操作较少的场景，多个操作可以对同一个数据加锁

读取数据时，同时读取版本号+时间戳；

写数据时，检查版本号+时间戳是否变化；
- 如果变了，说明有其他操作改了这个一条数据，则重试或者回滚；
- 如果没有变，则可以安全修改。
