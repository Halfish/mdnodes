
## Redis 分布式

一般 Redis 分布式集群
- 有一个主节点，负责写任务；多个从节点，负责读任务；
- 主节点会把数据定时同步到从节点上；
- 有多个哨兵，负责监控集群（用心跳机制），如果主节点挂了，会推选出一个从节点作为主节点。

## Redis 分片

把不同的 key 分布在不同的节点中。每个节点负责部分的 key；

哈希槽
- 先 hash(key) % 16384
- 2^14 = 16384
- 哈希槽太少不够用，太多节点数目变化时迁移麻烦。
